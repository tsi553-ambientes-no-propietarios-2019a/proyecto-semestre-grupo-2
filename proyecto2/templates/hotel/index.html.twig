{% extends 'base.html.twig' %}

{% block title %}Hoteles{% endblock %}

{% block body %}
 {% block section %}
    <!-- start banner Area -->
			<section class="about-banner relative">
				<div class="overlay overlay-bg"></div>
				<div class="container">
					<div class="row d-flex align-items-center justify-content-center">
						<div class="about-content col-lg-12">
							<h1 class="text-white">
								Hoteles
							</h1>
						</div>
					</div>
				</div>
			</section>
			<!-- End banner Area -->
{% endblock section %}
</br>
<div class="container">
    <div class="row d-flex justify-content-center">
		<div class="menu-content pb-40 col-lg-8">
		    <div class="title text-center">
		        <h1 class="mb-10">Hoteles</h1>
		    </div>
		</div>
	</div>
</div>
{% if is_granted("ROLE_USER") %}
<div class="container">
        <table class="table">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Nº</th>
                <th scope="col">Nombre</th>
                <th scope="col">Teléfono</th>
                <th scope="col">e-mail</th>
                <th scope="col">Sitio web</th>
                <th scope="col">Numero de Cuartos</th>
                <th scope="col">Categoria</th>
				<th scope="col">Imagen</th>
                <th scope="col">Precio</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for hotel in hotels %}
            <tr>
                <th scope="row">{{ hotel.id }}</td>
                <td>{{ hotel.name }}</td>
                <td>{{ hotel.phone }}</td>
                <td>{{ hotel.email }}</td>
                <td>{{ hotel.webSite }}</td>
                <td>{{ hotel.noRooms }}</td>
                <td>{{ hotel.category }}</td>
				<td><img src="{{ vich_uploader_asset(hotel, 'imageFile') }}" alt="{{ hotel.name }}" height="40"/></td>
                <td>{{ hotel.price }}</td>
                <td>
                  <a href="{{ path('hotel_show', {'id': hotel.id}) }}" class="btn btn-info">Ver</a>
                  <a href="{{ path('hotel_edit', {'id': hotel.id}) }}" class="btn btn-dark">Editar</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">No hay hoteles registrados</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <a href="{{ path('hotel_new') }}" class="btn btn-primary">Nuevo Hotel</a>
</div>
</br>
{% else %}
<div class="container">
<header class="section-header">
<h3><p>Encuentra los mejores hoteles, cómodos de Ecuador.</p></h3>
</header>
</div>
<section class="destinations-area section-gap">
	<div class="container">
		<div class="row">
        {% for hotel in hotels %}
        <div class="col-lg-4">
				<div class="single-destinations">
					<div class="thumb">
						<img src="{{ vich_uploader_asset(hotel, 'imageFile') }}" alt="{{ hotel.name }}"/>
					</div>
					<div class="details">
					<h4>{{ hotel.name }}</h4>
					<ul class="package-list">
            <li class="d-flex justify-content-between align-items-center">
							<span>Localización:</span>
							<span>{{ hotel.City.Name }}</span>
						</li>
						<li class="d-flex justify-content-between align-items-center">
							<span>Teléfono:</span>
							<span>{{ hotel.phone }}</span>
						</li>
						<li class="d-flex justify-content-between align-items-center">
							<span>e-mail:</span>
							<span>{{ hotel.email }}</span>
						</li>
						<li class="d-flex justify-content-between align-items-center">
							<span>Sitio web:</span>
							<span>{{ hotel.webSite }}</span>
						</li>
            <li class="d-flex justify-content-between align-items-center">
							<span>Categoría:</span>
							<span>{{ hotel.category }}</span>
						</li>
						<li class="d-flex justify-content-between align-items-center">
							<span>Precio por persona:</span>
							<a href="https://www.paypal.me/the97prime" class="price-btn">$ {{ hotel.price }}</a>
						</li>
					</ul>
					</div>
				</div>
			</div>
  {% else %}
  <div class="container">
		  <h1>No holes disponibles</h1>
    </div>
    {% endfor %}
    </div>
  </div>
</section>
<div class="container">
    <a class="weatherwidget-io" href="https://forecast7.com/es/n0d18n78d47/quito/" data-label_1="QUITO" data-label_2="Clima" data-font="Roboto" data-icons="Climacons" data-theme="sky" >QUITO Clima</a>
    <script>
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
    </script>
</div>

{% endif %}
{% endblock %}
